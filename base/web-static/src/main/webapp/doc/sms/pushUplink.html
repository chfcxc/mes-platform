<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="utf-8" />
		<title>亿美软通</title>
        <link type="image/x-icon" rel="shortcut icon" href="../img/favicon.ico">
	    <link type="image/x-icon" rel="bookmark" href="../img/favicon.ico">
	    <link type="image/x-icon" rel="icon" href="../img/favicon.ico">
		<link rel="stylesheet" href="../css/comment.css" />
		<link rel="stylesheet" href="../css/index.css" />
        <link rel="stylesheet" href="../css/documentCenter.css" />
		<link rel="stylesheet" href="../iconfont/iconfont.css" />
		<link rel="stylesheet" href="../css/swiper.min.css" />
	</head>

	<body>
		<!--头部-->
		<div class="topbar">
			<div class="topcon">
				<div class="logo">   <a href="http://www.emay.cn/"></a> </div>
				<div class="top_list">
					<div class="listDiv">
						<h3 class="bor_L"><a href="http://www.emay.cn/" target="_blank">官网首页</a></h3>
					</div>
	                <div class="listDiv">
						<h3><a href="http://www.emay.cn/article283.html" target="_blank">立即申请</a></h3>
					</div>
					<div class="listDiv">
						<h3><a href="http://mtn.b2m.cn:8080/static/doc/index.html" target="_blank">文档中心</a></h3>
					</div>
				</div>
			</div>
		</div>
        <div class="dc_banner"><img src="../img/dc_img/dc_banner.png"/></div>
        <!--文档中心-->
        <div class="container">
        	<div class="documentCenter">
        		<div id="smsLeft"></div>
               <!-- <div class="dc_left fl">
               		<div class='location_wrapper'>
               			<img src="../img/dc_img/location.png">当前位置：<a href="../index.html">文档中心</a> > 短信
               		</div>							
               		<h2><a href="./sms.html"><span></span>接入指导</a></h2>
                    <h2 class="active"><a href="./onlysms.html"><span></span>短信接口</a></h2>
                    <ul style="display:block" id="sms">
                    	<li>
                        	<a class="morelist" href="./onlysms.html">安全接口</a>
                            <ul>
                                <li><a href="./onlysms.html">单条短信接口</a></li>
                                <li><a href="./moresms_custom.html">批量短信接口【自定义SMSID】</a></li>
                                <li><a href="./moresms.html">批量短信接口【非自定义SMSID】</a></li>
                                <li><a href="./personalizedsms.html">个性短信接口</a></li>
                                <li><a href="./personalizedsmsall.html">个性短信接口【全属性个性】</a></li>
                                <li><a href="./getpresentation.html">获取状态报告接口</a></li>
                                <li><a href="./getupstream.html">获取上行接口</a></li>
                                <li><a href="./getbalance.html">获取余额接口</a></li>
                            </ul>            
                        </li>
                        <li>
                        	<a class="morelist " href="./onlysms_or.html">普通接口</a>
                            <ul class="moreUl" >
                                <li><a  href="./onlysms_or.html">发送短信接口</a></li>
                                <li><a href="./personalizedsms_or.html">个性短信接口</a></li>
                                <li><a href="./getpresentation_or.html">获取状态报告接口</a></li>
                                <li><a href="./getupstream_or.html">获取上行接口</a></li>
                                <li><a href="./getbalance_or.html">获取余额接口</a></li>
                            </ul> 
                        </li>
                        <li>
                        	<a class="morelist twoactive" href="./pushUplink.html">推送状态报告和上行</a>
                        	<ul class="moreUl"  style="display:block">
                                <li><a class="threeactive" href="./pushUplink.html">压缩加密推送</a></li>
                                <li><a href="./ordiPush.html">普通推送</a></li>
                                <li><a href="./response.html">客户响应信息</a></li>
                            </ul>
                        </li>
                        <li>
                        	<a class="morelist" href="./statusReport.html">状态报告重新获取接口</a>                      	
                        </li>
                    </ul>
                    <h2><a href="./voiceCode.html"><span></span>语音接口</a></h2>
                    <ul>
                    	<li><a href="./voiceCode.html">发送验证码接口</a></li>
                        <li><a href="./voiceState.html">获取状态报告接口</a></li>
                        <li><a href="./voiceBalance.html">获取余额接口</a></li>
                        <li><a href="./voicePush.html">推送状态报告</a></li>
                    </ul>
                    <h2><a href="./statuscode.html"><span></span>状态码</a></h2>
                    <h2><a href="./errorcode.html"><span></span>运营商错误码</a></h2>
                    <h2><a href="./download.html"><span></span>DEMO及文档下载</a></h2> 
                    <div class="hotline">
                        <h4 class="titL">7x24小时客服热线 ></h4>
                        <div class="ym_phone">
                            <div><img src="../img/phoneC_08.png" alt="" />售前：<span>400-810-7255</span></div>
                            <div><img src="../img/phoneC_08.png" alt="" />售后：<span>400-779-7255</span></div>
                        </div>
                    </div>
               </div> -->
               <div class="dc_right fr">
                    <div class="headWrap">
                    	<h2>推送状态报告和上行</h2>
                        <div class="headcontent">
                        	<p>状态报告和上行的推送分为压缩加密推送和普通推送，其中压缩加密推送可以提高传输安全性以及减轻网络压力，客户选择哪一种推送方式请咨询亿美客服人员。</p>
                        </div>               
                    </div> 
                    <div class="headWrap">
                    	<h2>压缩加密推送</h2> 
                        <div class="headcontent"> 
                            <p>注意：推送的数据经过UTF-8编码，注意解析时编码选择。</p>    
                            <p>Http Header 会传输appId , 客户根据此APPID在本地匹配密钥。</p> 
                        </div>    
                    </div> 
                    <div class="secondWrap">
                    	<h2>状态报告压缩加密推送</h2>       
                    </div>
                    <div class="secondMethod">
                        <h4>数据结构：状态报告的json数据，结构如下表</h4>
                        <div class="secondMethodBox">
                       		<table  border="0" cellspacing="0" cellpadding="0">
                            	<thead>
                                	<tr>
                                		<th width="110">参数</th>
                                        <th width="80">类型</th>
                                        <th width="300">传输方式</th>
                                        <th width="330">描述</th>
                                	</tr>
                                </thead>
                            	<tbody>
<tr><td>appId</td><td>String</td><td>http头信息传输</td><td>用户Appid(必填)</td></tr>
<tr><td>mobile</td><td>String</td><td rowspan="8">传输过来的数据是加密后的byte数组</td><td>手机号(必填)</td></tr>
<tr><td>smsId</td><td>String</td><td>消息ID(选填）</td></tr>
<tr><td>customSmsId</td><td>String</td><td>自定义消息ID(选填)</td></tr>
<tr><td>state</td><td>String</td><td>状态(必填) ，详见本文档《状态报告状态码表》</td></tr>
<tr><td>desc</td><td>String</td><td>状态描述(选填）</td></tr>
<tr><td>receiveTime</td><td>String</td><td>状态报告返回时间(必填)<br/>格式：yyyy-MM-dd HH:mm:ss</td></tr>
<tr><td>submitTime</td><td>String</td><td>信息提交时间(必填)<br/>格式：yyyy-MM-dd HH:mm:ss</td></tr>
<tr><td>extendedCode</td><td>String</td><td>扩展码(选填）</td></tr>           
                                </tbody>
                            </table>
                        </div>
                    </div>
                     <div class="secondMethod">
                        <h4>示例</h4>
                        <div class="secondMethodBox">
                       		<p>由于客户接受数据为压缩加密后的byte数组，所以客户需要对数据进行解密以及解压缩操作，获取到请求的字节数组之后，进行一下操作</p>
                             <p>1、获取APPID</p>
                            <ul>
                				<li>
<pre>
appId = http.getHeader("appId");
</pre>	
                    			</li>
                			</ul>
                             <p>2、解密 （其中secretKey为特服号秘钥）</p>
                            <ul>
                				<li>
<pre>
bytes = bytes = AES.encrypt(bytes, secretKey.getBytes(), 算法);
</pre>	
                    			</li>
                			</ul>
                            <p>3、解压缩</p>
                            <ul>
                				<li>
<pre>
bytes = GZIPUtils.decompress(bytes);
</pre>	
                    			</li>
                			</ul>
                            <p>4、获取json传数据（获取到json数据后，json传为状态报告集合，之后进行业务处理）</p>
                            <ul>
                				<li>
<pre>
String  json = new String(bytes, "UTF-8");
</pre>	
                    			</li>
                			</ul>  
                            <p>5、状态报告解密解压后json串示例</p>
                            <ul>
                				<li>
<pre>
[{
  "mobile":"15538850000",
  "smsId":"20170392833833891100",
  "customSmsId":"1553885000011111",
  "state":"DELIVRD",
  "desc":"成功",
  "receiveTime ":"2017-03-15 12:00:00",
  "submitTime":"2017-03-15 12:00:00",
  "extendedCode":"123"
},{
  "mobile":"15538850001",
  "smsId":"20170392833833891101",
  "customSmsId":"1553885000011112",
  "state":"DELIVRD",
  "desc":"成功",
  "receiveTime ":"2017-03-15 12:00:00",
  "submitTime":"2017-03-15 12:00:00",
  "extendedCode":"123"
}]
</pre>	
                    			</li>
                			</ul>
                        </div>
                    </div>
                    <div class="secondWrap">
                    	<h2>上行加密压缩推送</h2>        
                    </div>
                    <div class="secondMethod">
                        <h4>数据结构：状态报告的json数据，结构如下表</h4>
                        <div class="secondMethodBox">
                       		<table  border="0" cellspacing="0" cellpadding="0">
                            	<thead>
                                	<tr>
                                		<th width="110">参数</th>
                                        <th width="80">类型</th>
                                        <th width="300">传输方式</th>
                                        <th width="330">描述</th>
                                	</tr>
                                </thead>
                            	<tbody>
<tr><td>appId</td><td>String</td><td>http头信息传输</td><td>用户Appid(必填)</td></tr>
<tr><td>mobile</td><td>String</td><td rowspan="4">传输过来的数据是加密后的byte数组</td><td>手机号(必填)</td></tr>
<tr><td>content</td><td>String</td><td>上行内容(必填）</td></tr>
<tr><td>moTime</td><td>String</td><td>上行返回时间(必填)<br/>格式：yyyy-MM-dd HH:mm:ss</td></tr>
<tr><td>extendedCode</td><td>String</td><td>扩展码(选填）</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="secondMethod">
                        <h4>示例</h4>
                        <div class="secondMethodBox">
                        	<p>由于客户接受数据为压缩加密后的byte数组，所以客户需要对数据进行解密以及解压缩操作，获取到请求的字节数组之后，进行一下操作</p>
                       		<p>1、获取APPID</p>
                            <ul>
                				<li>
<pre>
appId = http.getHeader("appId");
</pre>	
                    			</li>
                			</ul>
                       		<p>2、解密（通道APPID的密钥【secretKey】解密）</p>
                            <ul>
                				<li>
<pre>
bytes = bytes = AES.encrypt(bytes, secretKey.getBytes(), 算法);
</pre>	
                    			</li>
                			</ul>
                            <p>3、解压缩</p>
                            <ul>
                				<li>
<pre>
bytes = GZIPUtils.decompress(bytes);
</pre>	
                    			</li>
                			</ul>
                            <p>4、获取json传数据（获取到json数据后，json传为上行集合，之后进行业务处理）</p>
                            <ul>
                				<li>
<pre>
String  json = new String(bytes, "UTF-8");
</pre>	
                    			</li>
                			</ul>
                            <p>5、上行解密解压后json串示例</p>
                            <ul>
                				<li>
<pre>
[{
  "mobile":"15538850000",
  "content":"TD",
  "moTime":"2017-03-15 12:00:00",
  "extendedCode":"123"
},{
  "mobile":"15538850000",
  "content":"TD",
  "moTime":"2017-03-15 12:00:00",
  "extendedCode":"123"
}]
</pre>	
                    			</li>
                			</ul>
                        </div>
                    </div>        	
               </div>
            </div>
        </div>
        <div class="widget" id="widget"> <a href="javascript:void(0);">TOP</a> </div>
        <!--footer-->
		<div class="footer">
             <p class="footerp">北京亿美软通科技有限公司 <span>京ICP备05069632号-1</span><img src="../img/mary_11.png" alt="" /><span>京公网安备11010502031242号</span></p>
		</div>
 <script type="text/javascript" src="../js/jquery-3.1.1.min.js"></script>
 <script type="text/javascript" src="../js/jquery.liMarquee.js"></script>
 <script type="text/javascript" src="../js/scroll.js"></script>
 <script type="text/javascript" src="../js/index.js"></script>
 <script type="text/javascript" src="../js/documentcenter.js"></script> 
	
		<style>
.hoverS{
	background:#0557bd !important;
}
.hoverS a{
	color:#fff !important;
}
</style>
<script type="text/javascript">
   $(document).ready(function(){
    var $liT=$('.tit_list li');
		$liT.hover(function(){
		 $(this).addClass('hoverS');
		},function(){
		 $(this).removeClass('hoverS');
		});
    $('.tit_list2 li a,.tit_list1 li a').hover(function(){
     $(this).addClass('contentC');
     $(this).siblings('em').addClass('contentbg');
    },function(){
     $(this).removeClass('contentC');
     $(this).siblings('em').removeClass('contentbg');
    });
    
    /*友情链接区*/
    $(".fri_link").liMarquee({direction:'up'});
   });
  </script> <script type="text/javascript">
   var shareUrl = "";
   var shareTitle = "分享标题";
   shareUrl="http://"+window.location.host;
   function weixin(url){
 
    var shareUrl1=shareUrl+url;
    window.open("http://www.jiathis.com/send/?webid=weixin&url=" + shareUrl1 + "&title=" + shareTitle);
    
    }
    
    function tqq(url){

    var shareUrl2=shareUrl+url;
     window.open("http://www.jiathis.com/send/?webid=tqq&url=" + shareUrl2 + "&title=" + shareTitle);
     
    }
    
    function qzone(url){
 
    var shareUrl3=shareUrl+url;
     window.open("http://www.jiathis.com/send/?webid=qzone&url=" + shareUrl3 + "&title=" + shareTitle);
     
    }
    
    function tsina(url){
  
    var shareUrl4=shareUrl+url;
     window.open("http://www.jiathis.com/send/?webid=tsina&url=" + shareUrl4 + "&title=" + shareTitle);
     
    }
    
   
  </script>
  <script type="text/javascript" src="../js/Live800.js"></script>
 
</body>
</html>
        
        
        
        
        
        
        
        
        
        